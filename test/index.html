<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Packing List</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      line-height: 1.6;
      background-color: #f9f9f9;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    h1 {
      text-align: center;
      color: #333;
    }
    .item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    .item label {
      flex: 1;
    }
    .item input[type="number"] {
      width: 50px;
      margin-left: 10px;
    }
    .item button {
      background-color: #007bff;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .item button:hover {
      background-color: #0056b3;
    }
    .list-section {
      margin-bottom: 20px;
    }
    .bulk-checkout, .final-checkout {
      text-align: center;
      margin-top: 20px;
    }
    .bulk-checkout button, .final-checkout button {
      background-color: #28a745;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }
    .bulk-checkout button:hover, .final-checkout button:hover {
      background-color: #218838;
    }
    .confirmed-items {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Interactive Packing List</h1>
    <div class="list-section">
      <h2>Packing Items</h2>
      <div id="packing-items">
        <div class="item">
          <label>Backpack</label>
          <input type="number" id="backpack-qty" placeholder="Qty">
          <button onclick="addToNeeded('Backpack', 'https://www.amazon.com/dp/B01N4PVEZH?tag=your-affiliate-tag-20', document.getElementById('backpack-qty').value)">Add to Needed</button>
        </div>
        <div class="item">
          <label>Boots</label>
          <input type="number" id="boots-qty" placeholder="Qty">
          <button onclick="addToNeeded('Boots', 'https://www.amazon.com/dp/B01LWZKPVS?tag=your-affiliate-tag-20', document.getElementById('boots-qty').value)">Add to Needed</button>
        </div>
        <div class="item">
          <label>Sleeping Bag</label>
          <input type="number" id="sleeping-bag-qty" placeholder="Qty">
          <button onclick="addToNeeded('Sleeping Bag', 'https://www.amazon.com/dp/B00EOT5CY8?tag=your-affiliate-tag-20', document.getElementById('sleeping-bag-qty').value)">Add to Needed</button>
        </div>
      </div>
    </div>

    <div class="list-section">
      <h2>Needed Items</h2>
      <div id="needed-items">
        <!-- Dynamically populated -->
      </div>
      <div class="bulk-checkout">
        <button onclick="bulkCheckout()">Bulk Checkout (Up to 10)</button>
      </div>
    </div>

    <div class="list-section confirmed-items">
      <h2>Confirmed Items</h2>
      <div id="confirmed-items">
        <!-- Dynamically populated -->
      </div>
    </div>

    <div class="final-checkout" style="display: none;" id="checkout-button">
      <button onclick="finalCheckout()">Final Checkout</button>
    </div>
  </div>

  <script>
    let neededItems = [];
    let confirmedItems = [];

    // Add an item to the needed list
    function addToNeeded(name, link, quantity) {
      if (!quantity || quantity <= 0) {
        alert('Please enter a valid quantity.');
        return;
      }
  // Add the item to the neededItems array
  neededItems.push({ name, link, quantity });
  renderNeededItems();

  // Temporarily change button text
  const originalText = buttonElement.textContent;
  buttonElement.textContent = `Added: ${quantity}`;
  buttonElement.disabled = true; // Disable button temporarily
  setTimeout(() => {
    buttonElement.textContent = originalText;
    buttonElement.disabled = false; // Re-enable button
  }, 2000); // Revert after 2 seconds
}

    // Render the needed items list
    function renderNeededItems() {
      const neededDiv = document.getElementById('needed-items');
      neededDiv.innerHTML = '';
      neededItems.forEach((item, index) => {
        neededDiv.innerHTML += `
          <div class="item">
            ${item.name} (Qty: ${item.quantity})
            <button onclick="confirmItem(${index})">Confirm</button>
            <button onclick="openItem('${item.link}')">View on Amazon</button>
          </div>`;
      });
    }

    // Confirm an item
    function confirmItem(index) {
      const item = neededItems.splice(index, 1)[0];
      confirmedItems.push(item);
      renderNeededItems();
      renderConfirmedItems();
      checkAllItemsConfirmed();
    }

    // Render the confirmed items list
    function renderConfirmedItems() {
      const confirmedDiv = document.getElementById('confirmed-items');
      confirmedDiv.innerHTML = '';
      confirmedItems.forEach(item => {
        confirmedDiv.innerHTML += `<div>${item.name} (Confirmed)</div>`;
      });
    }

    // Open an item's link in a split-screen friendly window
    function openItem(link) {
      const width = window.screen.width / 2;
      const height = window.screen.height;
      window.open(link, '_blank', `width=${width},height=${height},left=0,top=0`);
    }

    // Perform bulk checkout (up to 10 items)
    function bulkCheckout() {
      const bulkItems = neededItems.slice(0, 10);
      bulkItems.forEach(item => openItem(item.link));
      neededItems = neededItems.slice(10);
      renderNeededItems();
      if (neededItems.length === 0) {
        checkAllItemsConfirmed();
      }
    }

    // Final checkout
    function finalCheckout() {
      window.open('https://www.amazon.com/gp/cart/view.html', '_blank');
    }

    // Check if all items are confirmed
    function checkAllItemsConfirmed() {
      if (neededItems.length === 0) {
        document.getElementById('checkout-button').style.display = 'block';
      }
    }
  </script>
</body>
</html>

